<!--! embed7.html 참고 -->
<!doctype html>
<html>

<head>
    <!--# a-frame -->
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <!--# a-frame htmlembed -->
    <script src="https://supereggbert.github.io/aframe-htmlembed-component/dist/build.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <!--# hls.js -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script> -->
    <!-- <script src="./src/vendor/hls.min.js"></script> -->
    <!-- <script src="./src/JS/video.js"></script> -->
    <!--# material icon -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <!--# Google Font(Noto Sans) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@1,100&display=swap" rel="stylesheet">
    <!--# moment -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <!--# css -->
    <link rel="stylesheet" href="./style/exhibition.css">
    <!--# canvas -->
    <script src="https://cdn.rawgit.com/maxkrieger/aframe-draw-component/5a5d1e66/dist/aframe-draw-component.min.js"></script>


</head>

<body id="body">

    <!--=> 장면 -->
    <a-scene id="scene" far: 30; raycaster="far: 100; objects: [link];" cursor="rayOrigin: mouse">
        <!--=> 조명 -->
        <a-entity light="type: ambient; color: #f4f4f4"></a-entity>
        <a-entity light="type: directional; color: #FFF; intensity: 0.4" position="-0.5 1 1"></a-entity>

        <!--=> 카메라 및 레이캐스터 -->
        <a-entity id="cameraRig">
            <!-- wasd 컨트롤 -->
            <a-entity id="cameraEntity" camera look-controls wasd-controls="acceleration: 800; fly: false;" position="0 3 0"></a-entity>
            <a-entity id="mouseCursor" cursor="rayOrigin: mouse" raycaster="objects: .screen;"></a-entity>
            <a-entity laser-controls raycaster="objects: .screen;"></a-entity>
        </a-entity>

        <!--=> assets -->
        <a-assets timeout="1000">
            <!-- a-link로 맵 이동하기 -->
            <img id="thumbJapan" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/japan.png">
            <img id="thumbEgypt" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/egypt.png">
            <img id="thumbForest" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/forest.png">
            <img id="thumbParticle" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/forest.png">
            
            <!-- 하늘, 바닥 -->
            <!-- <img id="sky" src="./assets/images/industrial_sunset_02_puresky.webp" /> -->
            <!-- <img id="floor" src="./assets/images/FloorStreets0100_1_download600.jpg"> -->
            <!-- <img id="floor2" src="./assets/images/FloorStreets_1.jpg"> -->

            <!-- => 갤러리 -->
            <!-- <a-asset-item id="gallery" src="./assets/models/vr_gallery/scene.gltf"></a-asset-item> -->
            <a-asset-item id="gallery" src="./assets/model/files/final.glb"></a-asset-item>
        </a-assets>

        <!--@ 배경과 바닥 -->
        <!-- <a-sky src="#sky"></a-sky> -->
        <!-- <a-plane material="src:#floor; repeat: 100 100; transparent: true;" width="200" height="200" rotation="-90 0 0" position="0 -3 3"></a-plane> -->


        <!--^ gltf 모음-->
        <!-- => 갤러리 -->
        <a-entity restrict-position gltf-model="#gallery" position="0 -2 -20" scale="3 3 3" rotation="0 -90 0"></a-entity>


        <!-- => 바닥 클릭시 위치 이동하기 -->
        <a-entity id="moveWrap" class="screen move" htmlembed="ppu:256" position="0 -1.9 -10" rotation="-90 0 0">
            <a class="moveLink" id="move">
                <div></div>
            </a>
        </a-entity>
        <a-entity id="moveWrap" class="screen move" htmlembed="ppu:256" position="0 -1.9 -20" rotation="-90 0 0">
            <a class="moveLink" id="move">
                <div></div>
            </a>
        </a-entity>


        <!-- => a-link로 맵이동 -->
        <a-link href="./src/link/japan.html" position="-11 1 -15" rotation="0 90 0" image="#thumbJapan" title="Japan"></a-link>
        <a-link href="./src/link/egypt.html" position="11 1 -15" rotation="0 -90 0" image="#thumbEgypt" title="Egypt"></a-link>
        <a-link href="./src/link/forest.html" position="-11 1 -26" rotation="0 90 0" image="#thumbForest" title="Forest"></a-link>
        <a-link href="./view/room4.html" position="23 3 -3" rotation="0 -90 0" image="#thumbParticle" title="Room4" backgroundColor="black" borderColor="blue" peekMode="true"></a-link>
        <a-link href="./view/room5.html" position="23 3 -17" rotation="0 -90 0" image="#thumbRoom5" title="Room5" peekMode="true"></a-link>
    </a-scene>


    <script>
        const move = document.querySelectorAll("#move");
        console.log(move)

        for (let i = 0; i < move.length; i++) {
            move[i].addEventListener("click", () => {
                const cameraEntity = document.getElementById("cameraEntity");
                cameraEntity.setAttribute("position", `0 3 -${(i + 1) * 10}`);
                // console.log(cameraEntity);
                // cameraEntity
            })
        }
    </script>

    <!-- <script src="./src/JS/mainScreen.js"></script> -->
</body>
</html>