<!DOCTYPE html>
<html>

<head>
  <title>Links</title>
  <meta name="description" content="Links • A-Frame">
  <!-- # aframe -->
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <!-- # extend wasd -->
  <script src="../vendor/extended-wasd-controls.js"></script>
  <!-- # link control -->
  <script src="../vendor/link-controls.js"></script>
  <!-- # particle -->
  <script src="../vendor/aframe-sprite-particles-component.js"></script>
  <script src="../vendor/aframe-spe-particles-component.js"></script>
  <!-- # 배경 -->
  <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
  <!-- # animation mixer -->
  <script src="../vendor/animation-mixer.js"></script>
</head>

<body>
  <a-scene fog="color: #241417; near: 0; far: 30;" keyboard-shortcuts="enterVR: false;" environment="preset: egypt">

    <a-entity id="camera" camera
      look-controls
      position="-30 1.5 4"
      extended-wasd-controls="flyEnabled: true; turnEnabled: true; lookEnabled: true; maxLookAngle: 60; "
      raycaster="far: 100; objects: [link];"
      cursor="rayOrigin: mouse">
    </a-entity>

    <a-assets>
      <img id="thumbIndex" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/index.png">
      <img id="thumbForest" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/forest.png">
      <img id="thumbJapan" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/japan.png">
      <a-asset-item id="dataCenter" src="../../assets/models/data_center/scene.gltf"></a-asset-item>
      <a-asset-item id="machine" src="../../assets/models/machine_a016gltf.gltf"></a-asset-item>
    </a-assets>

    <!-- - 이동링크 -->
    <a-link href="../../embed7.html" position="-33.5 1.5 -1.0" image="#thumbIndex" title="embed"></a-link>
    <a-link href="forest.html" position="-30 1.5 -1.0" image="#thumbForest" title="kakao map test"></a-link>
    <a-link href="japan.html" position="-26.5 1.5 -1.0" image="#thumbJapan" title="japan"></a-link>

    <!-- => gltf -->
    <a-gltf-model id="dataCenterGLTF" src="#dataCenter" scale="2 1 2" position="0 0 0" rotation="0 180 0"></a-gltf-model>
    <a-entity gltf-model="#machine" position="-30 0 -10" rotation="0 0 0" scale="1 1 1" animation-mixer="loop: repeat"></a-entity>
    
    <!-- - light -->
    <a-entity light="type: point; color: #f4f4f4; intensity: 0.4; distance: 0" position="0 3 0"></a-entity>
    <a-entity light="type: directional; color: #fff; intensity: 0.5; distance: 10;" position="-30 2 10"></a-entity>

    <!-- - particle -->
    <a-entity position="-20 1.5 -9">
      <a-entity sprite-particles="texture: ../../assets/images/particles/blob.png; position: -1 -1 -1 .. -1 -1 0; velocity: -.1 .05 -.1 .. .1 .05 .1; spawnRate: 50; lifeTime: 10; scale: 5,8; opacity: 0,1,0; color: #AAAAAA"></a-entity>
    </a-entity>


    <!-- - hand -->
    <a-entity id="leftHand" link-controls="hand: left"></a-entity>
    <a-entity id="rightHand" link-controls="hand: right"></a-entity>

  </a-scene>
</body>

</html>

<!-- TODO -->
<!-- extend wasd controls 속도 올리기 => js파일에서 올릴 수 있음 ✅-->
<!-- 서버 관련된 gltf 추가하기 ✅-->
<!-- 추가된 서버 gltf 3D모델에 particle 추가하기  -->