<html>

<head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <!-- <script src="js/aframe-master.1.0.4.min.js"></script> -->
    <script src="../vendor/aframe-environment-component.js"></script>
    <script src="../vendor/aframe-spe-particles-component.js"></script>
    <script src="../vendor/extended-wasd-controls.js"></script>
    <script src="../vendor/link-controls.js"></script>
    <script src="../vendor/animation-mixer.js"></script>

    <!-- <script src="https://unpkg.com/aframe-heatmap3d/dist/aframe-heatmap3d.min.js"></script> -->
    <!-- <script src="https://unpkg.com/aframe-heatmap-component@^1.0.0/dist/aframe-heatmap-component.min.js"></script> -->
    <script src="../vendor/aframe-heatmap3d.js"></script>
</head>

<body>

    <a-scene environment="preset: starry; fog: 0;" keyboard-shortcuts="enterVR: false;">

        <!-- => extended wsad controls -->
        <!-- <a-entity id="camera" camera look-controls position="-30 1.5 4"
            extended-wasd-controls="flyEnabled: true; turnEnabled: true; lookEnabled: true; maxLookAngle: 60; "
            raycaster="far: 100; objects: [link];" cursor="rayOrigin: mouse">
        </a-entity> -->

        <!-- default camera -->
        <a-entity id="cameraRig">
            <a-entity id="cameraEntity" camera look-controls wasd-controls="acceleration: 50" position="-20 1.5 -5"></a-entity>
            <a-entity id="mouseCursor" cursor="rayOrigin: mouse" raycaster="objects: [link];"></a-entity>
            <a-entity laser-controls raycaster="objects: .screen;"></a-entity>
        </a-entity>

        <a-assets>
            <img id="thumbIndex" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/index.png">
            <img id="thumbForest" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/forest.png">
            <img id="thumbJapan" crossOrigin="anonymous" src="https://cdn.aframe.io/link-traversal/thumbs/japan.png">
            <a-asset-item id="dataCenter" src="../../assets/models/data_center/scene.gltf"></a-asset-item>
            <a-asset-item id="machine" src="../../assets/models/machine_a016gltf.gltf"></a-asset-item>
        </a-assets>

        <!-- => link -->
        <a-link href="../../embed7.html" position="-43.5 1.5 -1.0" image="#thumbIndex" title="embed"></a-link>
        <a-link href="forest.html" position="-40 1.5 -1.0" image="#thumbForest" title="kakao map test"></a-link>
        <a-link href="japan.html" position="-46.5 1.5 -1.0" image="#thumbJapan" title="japan"></a-link>

        <!-- => gltf -->
        <a-entity gltf-model="#machine" position="-30 0 -10" rotation="0 0 0" scale="1 1 1"
            animation-mixer="loop: repeat"></a-entity>
        <a-gltf-model id="dataCenterGLTF" src="#dataCenter" scale="2 1 2" position="0 0 0"
            rotation="0 180 0"></a-gltf-model>

        <!-- => light -->
        <a-entity light="type: point; color: #f4f4f4; intensity: 0.6; distance: 0" position="0 3 0"></a-entity>
        <!-- <a-entity light="type: ambient; color: #f4f4f4; intensity: 0.2; distance: 0" position="0 3 0"></a-entity> -->
        <a-entity light="type: directional; color: #fff; intensity: 0.7; distance: 10;" position="-30 2 10"></a-entity>

        <!-- => heatmap-->
        <a-entity position="-3.5 0.5 -5" rotation="0 90 0" spe-particles="
        texture: ../../assets/images/particles/snowflake.png; 
        particle-count: 50000; 
        max-age: 3; 
        blending: additive;
        distribution: sphere; 
        velocity: 0.01;
        velocity-spread: 0;
        radius: 0.1;
        color: #880000;
        opacity: 0.05;
        size: 3, 3, 3, 0" scale="16 3 30">
        </a-entity>

        <a-entity position="-12.5 0.5 -5" rotation="0 90 0" spe-particles="
        texture: ../../assets/images/particles/snowflake.png; 
        particle-count: 50000; 
        max-age: 3; 
        blending: additive;
        distribution: sphere; 
        velocity: 0.01;
        velocity-spread: 0;
        radius: 0.1;
        color: green;
        opacity: 0.05;
        size: 2, 3, 3, 2" scale="16 3 30">
        </a-entity>

        <a-entity position="-7.5 0.5 -1.5" rotation="0 90 0" spe-particles="
        texture: ../../assets/images/particles/snowflake.png; 
        particle-count: 50000; 
        max-age: 3; 
        blending: additive;
        distribution: sphere; 
        velocity: 0.01;
        velocity-spread: 0;
        radius: 0.1;
        color: green;
        opacity: 0.05;
        size: 2, 3, 3, 2" scale="16 3 70">
        </a-entity>
        

        <!-- => heatmap -->
        <!-- <a-box position="-20 0 -5" width="3" height="6" depth="4">
            <a-entity heatmap="data: [[-20,0,3]]; colors: #00FF00,#FFFF00,#FF0000"></a-entity>
        </a-box> -->



        <!-- water fountain -->
        <a-cylinder position="-28 2 -4" radius="0.1" height="0.1" color="gray">
            <a-entity spe-particles="
            texture: ../../assets/images/particles/snowflake.png; 
            color: #0000FF, #00FFFF, #FFFFFF; 
            opacity: 1, 1, 0;
            size: 1, 1, 0;
            velocity: 0 4 0; 
            velocity-spread: 2 0 2; 
            acceleration: 0 -6 0;
            particle-count: 1000;">
            </a-entity>
        </a-cylinder>

        <!-- sparkle-ball -->
        <a-sphere radius="0.1" position="-33 2 -4" color="#FF8800">
        <a-entity spe-particles="
            texture: ../../assets/images/particles/sparkle.png;
            color: #FFFF00, #FF0000; 
            size: 1, 0;
            distribution: SPHERE;
            radius: 0.001;
            velocity: 0.2;
            velocity-spread: 0.1; 
            angle: 0, 6.28;
            particle-count: 1000;
            blending: additive;
            maxAge: 3; ">
        </a-entity>
        </a-sphere>

        <!-- star fountain -->
        <a-entity position="-30 2 -4" spe-particles="
            texture: ../../assets/images/particles/star.png;
            color: #FF0000, #FFFF00, #00FFFF, #FF00FF;
            distribution: BOX;
            opacity: 1,1,1,0;
            velocity: 0 0.5 0;
            velocity-spread: 0.2 0 0.2; 
            blending: normal;
            particle-count: 100;
            angle: 0, 6.28;
            maxAge: 3; ">
        </a-entity>

        <!-- firework -- set active-multiplier to a large number and also set duration < max-age for a single burst -->
        <a-entity position="-31 4 -8" spe-particles="
            texture: ../../assets/images/particles/sparkle.png;
            color: yellow, red, cyan, black; 
            distribution: sphere; 
            randomize-velocity: true;
            radius: 0.01; 
            particle-count: 800; 
            velocity: 1; 
            velocity-spread: 0.5; 
            drag: 1; 
            max-age: 2;
            blending: additive;
            active-multiplier: 1000; 
            size: 1, 1, 1, 0">
        </a-entity>

        <!-- clouds -->
        <a-entity position="-32 3.5 -4" spe-particles="
            texture: ../../assets/images/particles/fog-256.png; 
            position-spread: 1 0.2 0.5; 
            velocity-spread: 0.1 0.05 0.1; 
            particle-count: 200; 
            max-age: 10; 
            size: 6, 10; 
            opacity: 0, 1, 0; 
            angle: 0;
            angle-spread: 6.28;
            randomize-position: true;">
        </a-entity>

        <!-- color ball -->
        <a-entity position="-33 2 -4" spe-particles="
            texture: ../../assets/images/particles/circle.png; 
            particle-count: 400; 
            max-age: 3; 
            distribution: sphere; 
            radius: 0.2;
            color: #FF0000, #0000FF; 
            color-spread: 1 0 0, 0 0 1; 
            size: 0, 1, 0">
        </a-entity>

    </a-scene>
</body>

</html>